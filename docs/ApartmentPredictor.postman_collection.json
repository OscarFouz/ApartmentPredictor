{
  "info": {
    "name": "ApartmentPredictor API (Actualizado)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "b1c2d3e4-f5a6-7890-abcd-ef1234567890"
  },
  "item": [
    {
      "name": "Populate Database",
      "item": [
        {
          "name": "Populate DB",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8080/api/populate?owners=10&properties=50&reviews=100&schools=20",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "populate"],
              "query": [
                { "key": "owners", "value": "10" },
                { "key": "properties", "value": "50" },
                { "key": "reviews", "value": "100" },
                { "key": "schools", "value": "20" }
              ]
            }
          }
        }
      ]
    },

    {
      "name": "Apartments",
      "item": [
        {
          "name": "Get All Apartments",
          "request": { "method": "GET", "url": "http://localhost:8080/api/apartments" }
        },
        {
          "name": "Get Apartment by ID",
          "request": { "method": "GET", "url": "http://localhost:8080/api/apartments/{{apartmentId}}" }
        },
        {
          "name": "Create Apartment",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Apartment Test\",\n  \"price\": 120000,\n  \"area\": 80,\n  \"bedrooms\": 3,\n  \"bathrooms\": 2,\n  \"stories\": 1,\n  \"mainroad\": \"yes\",\n  \"guestroom\": \"no\",\n  \"basement\": \"no\",\n  \"hotwaterheating\": \"yes\",\n  \"airconditioning\": \"yes\",\n  \"parking\": 1,\n  \"prefarea\": \"yes\",\n  \"furnishingstatus\": \"furnished\",\n  \"address\": \"New Street 123\"\n}"
            },
            "url": "http://localhost:8080/api/apartments"
          }
        },
        {
          "name": "Update Apartment",
          "request": {
            "method": "PUT",
            "body": { "mode": "raw", "raw": "{ \"price\": 150000, \"area\": 90 }" },
            "url": "http://localhost:8080/api/apartments/{{apartmentId}}"
          }
        },
        {
          "name": "Delete Apartment",
          "request": { "method": "DELETE", "url": "http://localhost:8080/api/apartments/{{apartmentId}}" }
        },
        {
          "name": "Assign Schools to Apartment",
          "request": {
            "method": "PUT",
            "body": { "mode": "raw", "raw": "[\"{{schoolId1}}\", \"{{schoolId2}}\"]" },
            "url": "http://localhost:8080/api/apartments/{{apartmentId}}/assign-schools"
          }
        }
      ]
    },

    {
      "name": "Houses",
      "item": [
        {
          "name": "Get All Houses",
          "request": { "method": "GET", "url": "http://localhost:8080/api/houses" }
        },
        {
          "name": "Get House by ID",
          "request": { "method": "GET", "url": "http://localhost:8080/api/houses/{{houseId}}" }
        },
        {
          "name": "Create House",
          "request": {
            "method": "POST",
            "body": { "mode": "raw", "raw": "{ \"name\": \"New House\", \"address\": \"House Street 10\" }" },
            "url": "http://localhost:8080/api/houses"
          }
        },
        {
          "name": "Update House",
          "request": {
            "method": "PUT",
            "body": { "mode": "raw", "raw": "{ \"name\": \"Updated House\" }" },
            "url": "http://localhost:8080/api/houses/{{houseId}}"
          }
        },
        {
          "name": "Delete House",
          "request": { "method": "DELETE", "url": "http://localhost:8080/api/houses/{{houseId}}" }
        }
      ]
    },

    {
      "name": "Duplexes",
      "item": [
        {
          "name": "Get All Duplexes",
          "request": { "method": "GET", "url": "http://localhost:8080/api/duplexes" }
        },
        {
          "name": "Get Duplex by ID",
          "request": { "method": "GET", "url": "http://localhost:8080/api/duplexes/{{duplexId}}" }
        },
        {
          "name": "Create Duplex",
          "request": {
            "method": "POST",
            "body": { "mode": "raw", "raw": "{ \"name\": \"New Duplex\", \"address\": \"Duplex Road 5\" }" },
            "url": "http://localhost:8080/api/duplexes"
          }
        },
        {
          "name": "Update Duplex",
          "request": {
            "method": "PUT",
            "body": { "mode": "raw", "raw": "{ \"name\": \"Updated Duplex\" }" },
            "url": "http://localhost:8080/api/duplexes/{{duplexId}}"
          }
        },
        {
          "name": "Delete Duplex",
          "request": { "method": "DELETE", "url": "http://localhost:8080/api/duplexes/{{duplexId}}" }
        }
      ]
    },

    {
      "name": "TownHouses",
      "item": [
        {
          "name": "Get All TownHouses",
          "request": { "method": "GET", "url": "http://localhost:8080/api/townhouses" }
        },
        {
          "name": "Get TownHouse by ID",
          "request": { "method": "GET", "url": "http://localhost:8080/api/townhouses/{{townId}}" }
        },
        {
          "name": "Create TownHouse",
          "request": {
            "method": "POST",
            "body": { "mode": "raw", "raw": "{ \"name\": \"New TownHouse\", \"address\": \"Town Lane 7\" }" },
            "url": "http://localhost:8080/api/townhouses"
          }
        },
        {
          "name": "Update TownHouse",
          "request": {
            "method": "PUT",
            "body": { "mode": "raw", "raw": "{ \"name\": \"Updated TownHouse\" }" },
            "url": "http://localhost:8080/api/townhouses/{{townId}}"
          }
        },
        {
          "name": "Delete TownHouse",
          "request": { "method": "DELETE", "url": "http://localhost:8080/api/townhouses/{{townId}}" }
        }
      ]
    },

    {
      "name": "Owners",
      "item": [
        {
          "name": "Get All Owners",
          "request": { "method": "GET", "url": "http://localhost:8080/api/owners" }
        },
        {
          "name": "Get Owner by ID",
          "request": { "method": "GET", "url": "http://localhost:8080/api/owners/{{ownerId}}" }
        },
        {
          "name": "Get Owner Houses",
          "request": { "method": "GET", "url": "http://localhost:8080/api/owners/{{ownerId}}/houses" }
        },
        {
          "name": "Get Owner Duplexes",
          "request": { "method": "GET", "url": "http://localhost:8080/api/owners/{{ownerId}}/duplexes" }
        },
        {
          "name": "Get Owner TownHouses",
          "request": { "method": "GET", "url": "http://localhost:8080/api/owners/{{ownerId}}/townhouses" }
        }
      ]
    },

    {
      "name": "Reviewers",
      "item": [
        {
          "name": "Get All Reviewers",
          "request": { "method": "GET", "url": "http://localhost:8080/api/reviewers" }
        },
        {
          "name": "Get Reviewer by ID",
          "request": { "method": "GET", "url": "http://localhost:8080/api/reviewers/{{reviewerId}}" }
        },
        {
          "name": "Get Reviewer Reviews",
          "request": { "method": "GET", "url": "http://localhost:8080/api/reviewers/{{reviewerId}}/reviews" }
        },
        {
          "name": "Create Reviewer",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Test User\",\n  \"birthDate\": \"1990-01-01\",\n  \"phone\": \"+34 600000000\",\n  \"email\": \"test@example.com\",\n  \"password\": \"1234\",\n  \"active\": true,\n  \"reputation\": 10,\n  \"business\": false,\n  \"xAccount\": \"test\",\n  \"webURL\": \"http://example.com\",\n  \"qtyReviews\": 0\n}"
            },
            "url": "http://localhost:8080/api/reviewers"
          }
        }
      ]
    },

    {
      "name": "Reviews",
      "item": [
        {
          "name": "Get Reviews by Property",
          "request": { "method": "GET", "url": "http://localhost:8080/api/reviews/property/{{propertyId}}" }
        },
        {
          "name": "Create Review",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Good place\",\n  \"content\": \"Nice experience\",\n  \"rating\": 4,\n  \"reviewDate\": \"2024-01-01\"\n}"
            },
            "url": "http://localhost:8080/api/reviews/property/{{propertyId}}"
          }
        },
        {
          "name": "Delete Review",
          "request": { "method": "DELETE", "url": "http://localhost:8080/api/reviews/{{reviewId}}" }
        }
      ]
    },

    {
      "name": "Contracts",
      "item": [
        {
          "name": "Get All Contracts",
          "request": { "method": "GET", "url": "http://localhost:8080/api/contracts" }
        },
        {
          "name": "Get Contract by ID",
          "request": { "method": "GET", "url": "http://localhost:8080/api/contracts/{{contractId}}" }
        },
        {
          "name": "Create Contract",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contractName\": \"Standard Contract\",\n  \"contractDetails\": \"Basic terms\",\n  \"agreedPrice\": 1200.0,\n  \"startDate\": \"2024-01-01\",\n  \"owner\": { \"id\": \"{{ownerId}}\" },\n  \"property\": { \"id\": \"{{propertyId}}\" }\n}"
            },
            "url": "http://localhost:8080/api/contracts"
          }
        },
        {
          "name": "Close Contract",
          "request": { "method": "PUT", "url": "http://localhost:8080/api/contracts/{{contractId}}/close" }
        },
        {
          "name": "Delete Contract",
          "request": { "method": "DELETE", "url": "http://localhost:8080/api/contracts/{{contractId}}" }
        }
      ]
    }
  ]
}
